"use strict";window.g_axm=class{constructor(e,g){this.g_axn=e,this.g_axo=g,this.g_axp=!1,this.g_afz=()=>this.g_IM()}g_axq(){}g_axr(e,g,_,a){this.g_axn.g_axs(this.g_axo,e,g,!!_,a)}g_axt(e,g,_,a){return this.g_axn.g_axu(this.g_axo,e,g,!!_,a)}g_axv(e,g,_){this.g_axn.g_axw()?this.g_axr(e,g,_):this.g_axn.g_axx()._OnMessageFromDOM({type:"event",component:this.g_axo,handler:e,dispatchRuntimeEvent:_,data:g,responseId:null})}g_axy(e,g){this.g_axn.g_axz(this.g_axo,e,g)}g_axA(e){for(const[g,_]of e)this.g_axy(g,_)}g_axB(){return this.g_axn}g_axC(){return this.g_axo}g_XA(){this.g_axp||(this.g_axn.g_axD(this.g_afz),this.g_axp=!0)}g_Xo(){this.g_axp&&(this.g_axn.g_axE(this.g_afz),this.g_axp=!1)}g_IM(){}},"use strict",window.g_axF=class extends g_axm{constructor(e,g){super(e,g),this.g_axG=new Map,this.g_axH=!0,this.g_axy("create",e=>this.g_axI(e)),this.g_axy("destroy",e=>this.g_axJ(e)),this.g_axy("set-visible",e=>this.g_axK(e)),this.g_axy("update-position",e=>this.g_axL(e)),this.g_axy("update-state",e=>this.g_axM(e)),this.g_axy("focus",e=>this.g_axN(e)),this.g_axy("set-css-style",e=>this.g_axO(e))}g_axP(e){this.g_axH=!!e}g_axQ(e,g){this.g_axy(e,e=>{const _=e.elementId,a=this.g_axG.get(_);return g(a,e)})}g_axI(e){const g=e.elementId,_=this.g_X_(g,e);this.g_axG.set(g,_),this.g_axH&&document.body.appendChild(_)}g_X_(){throw new Error("required override")}g_axR(){}g_axJ(e){const g=e.elementId,_=this.g_axG.get(g);this.g_axR(_),this.g_axH&&_.parentElement.removeChild(_),this.g_axG.delete(g)}g_axS(e,g,_){_||(_={}),_.elementId=g,this.g_axr(e,_)}g_axT(e,g,_){_||(_={}),_.elementId=g,this.g_axv(e,_)}g_axK(e){if(this.g_axH){const g=this.g_axG.get(e.elementId);g.style.display=e.isVisible?"":"none"}}g_axL(e){if(this.g_axH){const g=this.g_axG.get(e.elementId);g.style.left=e.left+"px",g.style.top=e.top+"px",g.style.width=e.width+"px",g.style.height=e.height+"px";const _=e.fontSize;null!==_&&(g.style.fontSize=_+"em")}}g_axM(e){const g=this.g_axG.get(e.elementId);this.g_axU(g,e)}g_axU(){throw new Error("required override")}g_axN(e){const g=this.g_axG.get(e.elementId);e.focus?g.focus():g.blur()}g_axO(e){const g=this.g_axG.get(e.elementId);g.style[e.prop]=e.val}g_axV(e){return this.g_axG.get(e)}},"use strict";{function _(e){return new Promise((g,_)=>{const a=document.createElement("script");a.onload=g,a.onerror=_,a.async=!1,a.src=e,document.head.appendChild(a)})}async function t(e){const g=await r(e),_=new TextDecoder("utf-8");return _.decode(g)}function r(e){return new Promise((g,_)=>{const a=new FileReader;a.onload=e=>g(e.target.result),a.onerror=e=>_(e),a.readAsArrayBuffer(e)})}function s(e){if(!e)return"";const g=e.split(".");if(2>g.length)return"";const _=g[g.length-1].toLowerCase();return i.get(_)||""}const a=/(iphone|ipod|ipad)/i.test(navigator.userAgent);let e=new Audio;const c={"audio/webm; codecs=opus":!!e.canPlayType("audio/webm; codecs=opus"),"audio/ogg; codecs=opus":!!e.canPlayType("audio/ogg; codecs=opus"),"audio/webm; codecs=vorbis":!!e.canPlayType("audio/webm; codecs=vorbis"),"audio/ogg; codecs=vorbis":!!e.canPlayType("audio/ogg; codecs=vorbis"),"audio/mp4":!!e.canPlayType("audio/mp4"),"audio/mpeg":!!e.canPlayType("audio/mpeg")};e=null;const g=[];let d=0;const b=Math.max(navigator.hardwareConcurrency||0,8),i=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"]]),u=[],l=new Map,p=new Map;let n=0;window.g_axW=class e{constructor(e){this.g_axX=e.g_axY,this.g_axZ=null,this.g_aeB="",this.g_ax_=e.g_ax$,this.g_aya={},this.g_ayb=null,this.g_ayc=null,this.g_ayd=[],this.g_aye=null,this.g_acB=null,this.g_agj=null,this.g_adi=-1,this.g_ayf=()=>this.g_ayg(),this.g_ayh=[],this.g_aeG=e.g_ayi,this.g_ayj=!1,this.g_ayk=null,("html5"===this.g_aeG||"playable-ad"===this.g_aeG)&&"file"===location.protocol.substr(0,4)&&alert("Exported games won't work until you upload them. (When running on the file: protocol, browsers block many features from working for security reasons.)"),this.g_axz("runtime","cordova-fetch-local-file",e=>this.g_ayl(e)),this.g_axz("runtime","create-job-worker",e=>this.g_aym(e)),"cordova"===this.g_aeG?document.addEventListener("deviceready",()=>this.g_Ws(e)):this.g_Ws(e)}g_eK(){this.g_ayn(),this.g_axZ&&(this.g_axZ.onmessage=null,this.g_axZ=null),this.g_ayb&&(this.g_ayb.terminate(),this.g_ayb=null),this.g_ayc&&(this.g_ayc.g_eK(),this.g_ayc=null),this.g_acB&&(this.g_acB.parentElement.removeChild(this.g_acB),this.g_acB=null)}g_ayo(){return this.g_acB}g_fB(){return this.g_aeB}g_axw(){return this.g_axX}g_Ax(){return this.g_aeG}g_agB(){return"cordova"===this.g_aeG&&a}g_ayp(){if(!this.g_agB())return!1;const e=window.devicePixelRatio,g=window.screen.width*e,_=window.screen.height*e;return 1125==g&&2436==_}async g_Ws(e){if("playable-ad"===this.g_aeG){this.g_ayk=self.c3_base64files,await this.g_ayq();for(let g=0,_=e.g_ayr.length;g<_;++g){const _=e.g_ayr[g].toLowerCase();this.g_ayk.hasOwnProperty(_)&&(e.g_ayr[g]=URL.createObjectURL(this.g_ayk[_]))}}if(e.g_ays)this.g_aeB=e.g_ays;else{const e=location.origin;this.g_aeB=("null"===e?"file:///":e)+location.pathname;const g=this.g_aeB.lastIndexOf("/");-1!==g&&(this.g_aeB=this.g_aeB.substr(0,g+1))}if(e.g_ayt)for(const[g,_]of Object.entries(e.g_ayt))this.g_aya[g]=URL.createObjectURL(_);const g=new MessageChannel;this.g_axZ=g.port1,this.g_axZ.onmessage=e=>this._OnMessageFromRuntime(e.data),window.c3_addPortMessageHandler&&window.c3_addPortMessageHandler(e=>this.g_ayu(e)),this.g_agj=new self.g_ayv(this),await this.g_agj.g_$X(),this.g_ayw(),"object"==typeof window.StatusBar&&window.StatusBar.hide(),await this.g_ayx(),this.g_axX?await this.g_ayy(e,g.port2):await this.g_ayz(e,g.port2)}g_ayA(e){return this.g_aya.hasOwnProperty(e)?this.g_aya[e]:"playable-ad"===this.g_aeG&&this.g_ayk.hasOwnProperty(e.toLowerCase())?URL.createObjectURL(this.g_ayk[e.toLowerCase()]):e}async g_ayB(g,_,n){if(g.startsWith("blob:"))return new Worker(g,n);if(this.g_agB()){const e=await this.g_An(this.g_ax_+g);return new Worker(URL.createObjectURL(e),n)}const c=new URL(g,_),a=location.origin!==c.origin;if(a){const e=await fetch(c);if(!e.ok)throw new Error("failed to fetch worker script");const g=await e.blob();return new Worker(URL.createObjectURL(g),n)}return new Worker(c,n)}g_ayw(){if(this.g_ayp()){const e=window.innerWidth>window.innerHeight,g=document.documentElement.style,_=document.body.style;e?(_.height=g.height="375px",_.width=g.width="812px"):(_.width=g.width="375px",_.height=g.height="812px")}}g_ayC(g){return{baseUrl:this.g_aeB,windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight,devicePixelRatio:window.devicePixelRatio,isFullscreen:e.g_adM(),projectData:g.g_ayD,previewImageBlobs:window.cr_previewImageBlobs||this.g_ayk,previewProjectFileBlobs:window.cr_previewProjectFileBlobs,shaders:self.C3_Shaders,exportType:g.g_ayi,isDebug:-1<self.location.search.indexOf("debug"),ife:!!self.g_ayE,jobScheduler:this.g_agj.g_ayF(),supportedAudioFormats:c,opusWasmScriptUrl:window.cr_opusWasmScriptUrl||this.g_ax_+"opus.wasm.js",opusWasmBinaryUrl:window.cr_opusWasmBinaryUrl||this.g_ax_+"opus.wasm.wasm",isWKWebView:this.g_agB(),isFBInstantAvailable:"undefined"!=typeof self.FBInstant}}async g_ayy(e,g){const _=this.g_ayA(e.g_ayG);this.g_ayb=await this.g_ayB(_,this.g_aeB,{name:"Runtime"}),this.g_acB=document.createElement("canvas"),this.g_acB.style.display="none";const a=this.g_acB.transferControlToOffscreen();document.body.appendChild(this.g_acB),this.g_ayb.postMessage(Object.assign(this.g_ayC(e),{type:"init-runtime",isInWorker:!0,messagePort:g,canvas:a,workerDependencyScripts:e.g_ayH||[],engineScripts:e.g_ayr}),[g,a,...this.g_agj.g_ayI()]),this.g_ayd=u.map(e=>new e(this)),this.g_ayJ()}async g_ayz(g,a){this.g_acB=document.createElement("canvas"),this.g_acB.style.display="none",document.body.appendChild(this.g_acB),this.g_ayd=u.map(e=>new e(this)),this.g_ayJ();const n=g.g_ayr.map(e=>new URL(e,this.g_aeB).toString());await Promise.all(n.map(e=>_(e)));const c=Object.assign(this.g_ayC(g),{isInWorker:!1,messagePort:a,canvas:this.g_acB});this.g_ayc=self.C3_CreateRuntime(c),await self.C3_InitRuntime(this.g_ayc,c)}async g_aym(){const e=await this.g_agj.g_ayK();return{outputPort:e,transferables:[e]}}g_axx(){if(this.g_axX)throw new Error("not available in worker mode");return this.g_ayc}g_axs(g,_,a,n,c){this.g_axZ.postMessage({type:"event",component:g,handler:_,dispatchRuntimeEvent:n,data:a,responseId:null},this.g_ayj?void 0:c)}g_axu(_,a,b,c,t){const e=n++,i=new Promise((g,_)=>{p.set(e,{resolve:g,reject:_})});return this.g_axZ.postMessage({type:"event",component:_,handler:a,dispatchRuntimeEvent:c,data:b,responseId:e},this.g_ayj?void 0:t),i}["_OnMessageFromRuntime"](e){const g=e.type;if("event"===g)this.g_ayL(e);else if("result"===g)this.g_ayM(e);else if("runtime-ready"===g)this.g_ayN();else throw new Error(`unknown message '${g}'`)}g_ayL(_){const n=_.component,b=_.handler,a=_.data,c=_.responseId,e=l.get(n);if(!e)return void console.warn(`[DOM] No event handlers for component '${n}'`);const t=e.get(b);if(!t)return void console.warn(`[DOM] No handler '${b}' for component '${n}'`);let g=null;try{g=t(a)}catch(e){return console.error(`Exception in '${n}' handler '${b}':`,e),void(null!==c&&this.g_ayO(c,!1,e.toString()))}null!==c&&(g&&g.then?g.then(e=>this.g_ayO(c,!0,e)).catch(e=>{console.error(`Rejection from '${n}' handler '${b}':`,e),this.g_ayO(c,!1,e.toString())}):this.g_ayO(c,!0,g))}g_ayO(e,g,_){let a;_&&_.transferables&&(a=_.transferables),this.g_axZ.postMessage({type:"result",responseId:e,isOk:g,result:_},a)}g_ayM(g){const _=g.responseId,a=g.isOk,n=g.result,c=p.get(_);a?c.resolve(n):c.reject(n),p.delete(_)}g_axz(e,g,_){let a=l.get(e);if(a||(a=new Map,l.set(e,a)),a.has(g))throw new Error(`[DOM] Component '${e}' already has handler '${g}'`);a.set(g,_)}static g_ayP(e){if(u.includes(e))throw new Error("DOM handler already added");u.push(e)}g_ayJ(){for(const e of this.g_ayd)if("runtime"===e.g_axC())return void(this.g_aye=e);throw new Error("cannot find runtime DOM handler")}g_ayu(e){this.g_axs("debugger","message",e)}g_ayN(){for(const e of this.g_ayd)e.g_axq()}static g_adM(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)}g_axD(e){this.g_ayh.push(e),this.g_ayQ()}g_axE(e){const g=this.g_ayh.indexOf(e);if(-1===g)throw new Error("invalid callback");this.g_ayh.splice(g,1),this.g_ayh.length||this.g_ayn()}g_ayQ(){-1===this.g_adi&&this.g_ayh.length&&(this.g_adi=requestAnimationFrame(this.g_ayf))}g_ayn(){-1!==this.g_adi&&(cancelAnimationFrame(this.g_adi),this.g_adi=-1)}g_ayg(){this.g_adi=-1;for(const e of this.g_ayh)e();this.g_ayQ()}g_ayR(e){this.g_aye.g_ayR(e)}g_ayS(e){this.g_aye.g_ayS(e)}g_ayT(){this.g_aye.g_ayT()}g_ayU(e){this.g_aye.g_ayU(e)}g_AP(e){return!!c[e]}async g_agm(e){const g=await this.g_axu("runtime","opus-decode",{arrayBuffer:e},!1,[e]);return new Float32Array(g)}g_gm(e){return /^(?:[a-z]+:)?\/\//.test(e)||"data:"===e.substr(0,5)||"blob:"===e.substr(0,5)}g_gn(e){return!this.g_gm(e)}async g_ayl(e){const g=e.filename;switch(e.as){case"text":return await this.g_Ar(g);case"blob":return await this.g_An(g);case"blob-url":return await this.g_ayV(g);case"buffer":return await this.g_At(g);default:throw new Error("unsupported type");}}g_ayW(e){const g=window.cordova.file.applicationDirectory+"www/"+e;return new Promise((e,_)=>{window.resolveLocalFileSystemURL(g,g=>{g.file(e,_)},_)})}async g_Ar(e){const g=await this.g_ayW(e);return await t(g)}g_ayX(){if(g.length&&!(d>=b)){d++;const e=g.shift();this.g_ayY(e.filename,e.g_ayZ,e.g_ay_)}}g_At(e){return new Promise((_,n)=>{g.push({filename:e,g_ayZ:e=>{d--,this.g_ayX(),_(e)},g_ay_:e=>{d--,this.g_ayX(),n(e)}}),this.g_ayX()})}async g_ayY(g,_,e){try{const a=await this.g_ayW(g),n=await r(a);_(n)}catch(g){e(g)}}async g_An(e,g){g||(g=s(e));const _=await this.g_At(e);return new Blob([_],{type:g})}async g_ayV(e){const g=await this.g_An(e);return URL.createObjectURL(g)}async g_ayq(){const e=[];for(const[g,_]of Object.entries(this.g_ayk))e.push(this.g_ay$(g,_));await Promise.all(e)}async g_ay$(e,g){if("object"==typeof g)this.g_ayk[e]=new Blob([g.str],{type:g.type});else{const _=await fetch(g),a=await _.blob();this.g_ayk[e]=a}}g_ayx(){let e=null;const g=new Promise(g=>e=g),_=new ArrayBuffer(1),n=new MessageChannel;return n.port2.onmessage=g=>{g.data&&g.data.arrayBuffer||(this.g_ayj=!0,console.warn("MessageChannel transfers determined to be broken. Disabling transferables.")),e()},n.port1.postMessage({arrayBuffer:_},[_]),g}}}{function g(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||e.originalEvent&&e.originalEvent.sourceCapabilities&&e.originalEvent.sourceCapabilities.firesTouchEvents}function _(e){return new Promise((g,_)=>{const a=new Image;a.onload=()=>g(a),a.onerror=e=>_(e),a.src=e})}async function n(e){const g=URL.createObjectURL(e);try{return await _(g)}finally{URL.revokeObjectURL(g)}}function a(){try{return window.parent&&window.parent.document.hasFocus()}catch(e){return!1}}self.C3_RasterSvgImage=async function(g,_,a){const n=document.createElement("canvas");n.width=_,n.height=a;const c=n.getContext("2d");return c.drawImage(g,0,0,_,a),n};let c=!1;document.addEventListener("pause",()=>c=!0),document.addEventListener("resume",()=>c=!1);const e=class extends g_axm{constructor(e){super(e,"runtime"),this.g_aza=!0,this.g_azb="any",this.g_azc=null,e.g_axz("canvas","update-size",e=>this.g_azd(e)),e.g_axz("runtime","invoke-download",e=>this.g_aze(e)),e.g_axz("runtime","raster-svg-image",e=>this.g_azf(e)),e.g_axz("runtime","set-target-orientation",e=>this.g_azg(e)),e.g_axz("runtime","register-sw",()=>this.g_azh()),e.g_axz("runtime","post-to-debugger",e=>this.g_azi(e)),e.g_axz("runtime","before-start-ticking",()=>this.g_azj()),e.g_axz("runtime","debug-highlight",e=>this.g_azk(e));const g=e.g_ayo();g.addEventListener("contextmenu",e=>e.preventDefault()),g.addEventListener("selectstart",e=>e.preventDefault()),g.addEventListener("gesturehold",e=>e.preventDefault()),g.addEventListener("touchstart",e=>e.preventDefault()),window.addEventListener("mousedown",e=>{1===e.button&&e.preventDefault()}),window.addEventListener("resize",()=>this.g_adz()),this.g_azl=new Set,this.g_azm=new WeakSet,this.g_azn=!1}g_azj(){return window.addEventListener("visibilitychange",()=>this.g_agl(document.hidden)),document.addEventListener("pause",()=>this.g_agl(!0)),document.addEventListener("resume",()=>this.g_agl(!1)),{isSuspended:!!(document.hidden||c)}}g_axq(){window.addEventListener("focus",()=>this.g_azo("window-focus")),window.addEventListener("blur",()=>this.g_azo("window-blur",{parentHasFocus:a()})),window.addEventListener("fullscreenchange",()=>this.g_adA()),window.addEventListener("webkitfullscreenchange",()=>this.g_adA()),window.addEventListener("mozfullscreenchange",()=>this.g_adA()),window.addEventListener("fullscreenerror",e=>this.g_adB(e)),window.addEventListener("webkitfullscreenerror",e=>this.g_adB(e)),window.addEventListener("mozfullscreenerror",e=>this.g_adB(e)),window.addEventListener("keydown",e=>this.g_azp("keydown",e)),window.addEventListener("keyup",e=>this.g_azp("keyup",e)),window.addEventListener("mousemove",e=>this.g_azq("mousemove",e)),window.addEventListener("mousedown",e=>this.g_azq("mousedown",e)),window.addEventListener("mouseup",e=>this.g_azq("mouseup",e)),window.addEventListener("dblclick",e=>this.g_azq("dblclick",e)),window.addEventListener("wheel",e=>this.g_azr("wheel",e)),"undefined"==typeof g_azs?(window.addEventListener("touchstart",e=>this.g_azt("pointerdown",e)),window.addEventListener("touchmove",e=>this.g_azt("pointermove",e)),window.addEventListener("touchend",e=>this.g_azt("pointerup",e)),window.addEventListener("touchcancel",e=>this.g_azt("pointercancel",e))):(window.addEventListener("pointerdown",e=>this.g_azu("pointerdown",e)),window.addEventListener("pointermove",e=>this.g_azu("pointermove",e)),window.addEventListener("pointerup",e=>this.g_azu("pointerup",e)),window.addEventListener("pointercancel",e=>this.g_azu("pointercancel",e))),window.addEventListener("deviceorientation",e=>this.g_apS(e)),window.addEventListener("devicemotion",e=>this.g_apT(e));const e=()=>this.g_ayT();window.addEventListener("pointerup",e,!0),window.addEventListener("touchend",e,!0),window.addEventListener("click",e,!0),window.addEventListener("keydown",e,!0),window.addEventListener("gamepadconnected",e,!0)}g_azo(e,g){this.g_axr(e,g||null,!0)}g_adz(){this.g_axr("window-resize",{innerWidth:window.innerWidth,innerHeight:window.innerHeight,devicePixelRatio:window.devicePixelRatio},!0)}g_azg(e){this.g_azb=e.targetOrientation}g_azv(){const e=this.g_azb;if(screen.orientation&&screen.orientation.lock)screen.orientation.lock(e).catch(e=>console.warn("[Construct 3] Failed to lock orientation: ",e));else try{let g=!1;screen.lockOrientation?g=screen.lockOrientation(e):screen.webkitLockOrientation?g=screen.webkitLockOrientation(e):screen.mozLockOrientation?g=screen.mozLockOrientation(e):screen.msLockOrientation&&(g=screen.msLockOrientation(e)),g||console.warn("[Construct 3] Failed to lock orientation")}catch(e){console.warn("[Construct 3] Failed to lock orientation: ",e)}}g_adA(){const e=g_axW.g_adM();e&&"any"!==this.g_azb&&this.g_azv(),this.g_axr("fullscreenchange",{isFullscreen:e,innerWidth:window.innerWidth,innerHeight:window.innerHeight})}g_adB(e){console.warn("[Construct 3] Fullscreen request failed: ",e),this.g_axr("fullscreenerror",{isFullscreen:g_axW.g_adM(),innerWidth:window.innerWidth,innerHeight:window.innerHeight})}g_agl(e){e?this.g_axn.g_ayn():this.g_axn.g_ayQ(),this.g_axr("visibilitychange",{hidden:e})}g_azp(e,g){this.g_axv(e,{code:g.code,key:g.key,which:g.which,repeat:g.repeat,altKey:g.altKey,ctrlKey:g.ctrlKey,metaKey:g.metaKey,shiftKey:g.shiftKey,timeStamp:g.timeStamp},!0)}g_azq(e,_){g(_)||("mousedown"===e&&window!==window.top&&window.focus(),this.g_axv(e,{button:_.button,clientX:_.clientX,clientY:_.clientY,timeStamp:_.timeStamp},!0))}g_azr(e,g){this.g_axr(e,{clientX:g.clientX,clientY:g.clientY,deltaX:g.deltaX,deltaY:g.deltaY,deltaZ:g.deltaZ,deltaMode:g.deltaMode,timeStamp:g.timeStamp},!0)}g_azu(e,g){"pointerdown"===e&&window!==window.top&&window.focus(),this.g_axv(e,{pointerId:g.pointerId,pointerType:g.pointerType,clientX:g.clientX,clientY:g.clientY,width:g.width||0,height:g.height||0,pressure:g.pressure||0,tangentialPressure:g.tangentialPressure||0,tiltX:g.tiltX||0,tiltY:g.tiltY||0,twist:g.twist||0,timeStamp:g.timeStamp},!0)}g_azt(e,g){"pointerdown"===e&&window!==window.top&&window.focus();for(let _=0,a=g.changedTouches.length;_<a;++_){const a=g.changedTouches[_];this.g_axv(e,{pointerId:a.identifier,pointerType:"touch",clientX:a.clientX,clientY:a.clientY,width:2*(a.radiusX||a.webkitRadiusX||a.mozRadiusX||a.msRadiusX||0),height:2*(a.radiusY||a.webkitRadiusY||a.mozRadiusY||a.msRadiusY||0),pressure:a.force||a.webkitForce||a.mozForce||a.msForce||0,tangentialPressure:0,tiltX:0,tiltY:0,twist:a.rotationAngle||0,timeStamp:g.timeStamp},!0)}}g_apS(e){this.g_axr("deviceorientation",{alpha:e.alpha||0,beta:e.beta||0,gamma:e.gamma||0,timeStamp:e.timeStamp},!0)}g_apT(_){let a=0,n=0,t=0,o=0,r=0,s=0;const l=_.accelerationIncludingGravity;l&&(a=l.x||0,n=l.y||0,t=l.z||0);const u=_.acceleration;u&&(o=u.x||0,r=u.y||0,s=u.z||0),this.g_axr("devicemotion",{acceleration:{x:o,y:r,z:s},accelerationWithG:{x:a,y:n,z:t},timeStamp:_.timeStamp},!0)}g_azd(e){const g=this.g_axB(),_=g.g_ayo();_.style.width=e.styleWidth+"px",_.style.height=e.styleHeight+"px",_.style.marginLeft=e.marginLeft+"px",_.style.marginTop=e.marginTop+"px",g.g_ayw(),this.g_aza&&(_.style.display="",this.g_aza=!1)}g_aze(g){const _=g.url,n=g.filename,c=document.createElement("a"),e=document.body;c.textContent=n,c.href=_,c.download=n,e.appendChild(c),c.click(),e.removeChild(c)}async g_azf(_){const a=_.blob,c=_.width,b=_.height,e=await n(a),t=await self.C3_RasterSvgImage(e,c,b);return await createImageBitmap(t)}g_ayT(){const e=[...this.g_azl];if(this.g_azl.clear(),!this.g_azn)for(const g of e){const e=g.play();e&&e.catch(()=>{this.g_azm.has(g)||this.g_azl.add(g)})}}g_ayR(e){if("function"!=typeof e.play)throw new Error("missing play function");this.g_azm.delete(e);let g;try{g=e.play()}catch(g){return void this.g_azl.add(e)}g&&g.catch(()=>{this.g_azm.has(e)||this.g_azl.add(e)})}g_ayS(e){this.g_azl.delete(e),this.g_azm.add(e)}g_ayU(e){this.g_azn=!!e}g_azk(e){const g=e.show;if(!g)return void(this.g_azc&&(this.g_azc.style.display="none"));this.g_azc||(this.g_azc=document.createElement("div"),this.g_azc.id="inspectOutline",document.body.appendChild(this.g_azc));const _=this.g_azc;_.style.display="",_.style.left=e.left-1+"px",_.style.top=e.top-1+"px",_.style.width=e.width+2+"px",_.style.height=e.height+2+"px",_.textContent=e.name}g_azh(){window.C3_RegisterSW&&window.C3_RegisterSW()}g_azi(e){window.c3_postToMessagePort&&(e.from="runtime",window.c3_postToMessagePort(e))}};g_axW.g_ayP(e)}{const e=document.currentScript.src;self.g_ayv=class{constructor(g){this.g_azw=g,this.g_aeB=e?e.substr(0,e.lastIndexOf("/")+1):g.g_fB(),this.g_air=Math.min(navigator.hardwareConcurrency||2,16),this.g_azx=null,this.g_azy=[],this.g_aip=null,this.g_azz=null}async g_$X(){if(this.g_azA)throw new Error("already initialised");this.g_azA=!0;const e=this.g_azw.g_ayA("dispatchWorker.js");this.g_azx=await this.g_azw.g_ayB(e,this.g_aeB,{name:"DispatchWorker"});const g=new MessageChannel;this.g_aip=g.port1,this.g_azx.postMessage({type:"_init","in-port":g.port2},[g.port2]),this.g_azz=await this.g_ayK()}async g_ayK(){const g=this.g_azy.length,_=this.g_azw.g_ayA("jobWorker.js"),a=await this.g_azw.g_ayB(_,this.g_aeB,{name:"JobWorker"+g}),n=new MessageChannel,c=new MessageChannel;return this.g_azx.postMessage({type:"_addJobWorker",port:n.port1},[n.port1]),a.postMessage({type:"init",number:g,"dispatch-port":n.port2,"output-port":c.port2},[n.port2,c.port2]),this.g_azy.push(a),c.port1}g_ayF(){return{inputPort:this.g_aip,outputPort:this.g_azz,maxNumWorkers:this.g_air}}g_ayI(){return[this.g_aip,this.g_azz]}}}if("use strict",window.C3_IsSupported){"undefined"!=typeof OffscreenCanvas;window.c3_runtimeInterface=new g_axW({g_axY:!1,g_ayG:"workerMain.js",g_ayr:["scripts/c3runtime.js"],g_ax$:"scripts/",g_ayi:"html5"})}{function e(e,g){return e.length===g.length&&(e===g||e.toLowerCase()===g.toLowerCase())}const g=class extends g_axm{constructor(e){super(e,"audio"),this.g_a$q=null,this.g_a$r=null,this.g_a$s=!1,this.g_a$t=()=>this.g_a$u(),this.g_a$v=[],this.g_a$w=[],this.g_a$x=null,this.g_a$y="",this.g_a$z=-1,this.g_a$A=new Map,this.g_aXR=1,this.g_azn=!1,this.g_aXE=0,this.g_$P=1,this.g_afO=0,this.g_aXH="HRTF",this.g_aXI="inverse",this.g_a$B=600,this.g_aXN=1e4,this.g_aXO=1,this.g_a$C=!1,this.g_a$D=!1,this.g_a$E=this.g_axn.g_AP("audio/webm; codecs=opus"),this.g_a$F=new Map,this.g_a$G=new Set,this.g_a$H=!1,this.g_a$I="",this.g_a$J=null,self.C3Audio_OnMicrophoneStream=(e,g)=>this.g_a$K(e,g),this.g_a$L=null,self.C3Audio_GetOutputStream=()=>this.g_a$M(),this.g_axA([["create-audio-context",e=>this.g_a$N(e)],["play",e=>this.g_a$O(e)],["stop",e=>this.g_a$P(e)],["stop-all",()=>this.g_a$Q()],["set-paused",e=>this.g_a$R(e)],["set-volume",e=>this.g_a$S(e)],["fade-volume",e=>this.g_a$T(e)],["set-master-volume",e=>this.g_a$U(e)],["set-muted",e=>this.g_a$V(e)],["set-silent",e=>this.g_a$W(e)],["set-looping",e=>this.g_a$X(e)],["set-playback-rate",e=>this.g_a$Y(e)],["seek",e=>this.g_a$Z(e)],["preload",e=>this.g_a$_(e)],["unload",e=>this.g_FQ(e)],["unload-all",()=>this.g_a$$()],["set-suspended",e=>this.g_baa(e)],["add-effect",e=>this.g_bab(e)],["set-effect-param",e=>this.g_bac(e)],["remove-effects",e=>this.g_bad(e)],["tick",e=>this.g_bae(e)],["load-state",e=>this.g_baf(e)]])}async g_a$N(e){e.isWKWebView&&(this.g_a$C=!0),this.g_aXE=e.timeScaleMode,this.g_aXH=["equalpower","HRTF","soundfield"][e.panningModel],this.g_aXI=["linear","inverse","exponential"][e.distanceModel],this.g_a$B=e.refDistance,this.g_aXN=e.maxDistance,this.g_aXO=e.rolloffFactor;const g={latencyHint:e.latencyHint};if("undefined"!=typeof AudioContext)this.g_a$q=new AudioContext(g);else if("undefined"!=typeof webkitAudioContext)this.g_a$q=new webkitAudioContext(g);else throw new Error("Web Audio API not supported");this.g_a$r=this.g_a$q.createGain(),this.g_a$r.connect(this.g_a$q.destination);const _=e.listenerPos;this.g_a$q.listener.setPosition(_[0],_[1],_[2]),this.g_a$q.listener.setOrientation(0,0,1,0,-1,0),window.addEventListener("pointerup",this.g_a$t,!0),window.addEventListener("touchend",this.g_a$t,!0),window.addEventListener("click",this.g_a$t,!0),window.addEventListener("keydown",this.g_a$t,!0),self.C3_GetAudioContextCurrentTime=()=>this.g_bag();try{await Promise.all(e.preloadList.map(e=>this.g_bah(e.originalUrl,e.url,e.type,!1)))}catch(e){console.error("[Construct 3] Preloading sounds failed: ",e)}return{sampleRate:this.g_a$q.sampleRate}}g_a$u(){if(!this.g_a$s){const e=this.g_a$q;"suspended"===e.state&&e.resume&&e.resume();const g=e.createBuffer(1,220,22050),_=e.createBufferSource();_.buffer=g,_.connect(e.destination),_.start(0),"running"===e.state&&(this.g_a$s=!0,window.removeEventListener("pointerup",this.g_a$t,!0),window.removeEventListener("touchend",this.g_a$t,!0),window.removeEventListener("click",this.g_a$t,!0),window.removeEventListener("keydown",this.g_a$t,!0),this.g_a$t=null)}}g_bai(){return this.g_a$q}g_bag(){return this.g_a$q.currentTime}g_baj(){return this.g_a$r}g_bak(e){const g=this.g_a$F.get(e.toLowerCase());return g?g[0].g_bal():this.g_baj()}g_bam(e,g){e=e.toLowerCase();let _=this.g_a$F.get(e);_||(_=[],this.g_a$F.set(e,_)),g.g_abC(_.length),g.g_ban(e),_.push(g),this.g_bao(e)}g_bao(e){let g=this.g_baj();const _=this.g_a$F.get(e);if(_&&_.length){g=_[0].g_bal();for(let e=0,g=_.length;e<g;++e){const a=_[e];e+1===g?a.g_bap(this.g_baj()):a.g_bap(_[e+1].g_bal())}}for(const _ of this.g_baq(e))_.g_bar(g);this.g_a$J&&this.g_a$I===e&&(this.g_a$J.disconnect(),this.g_a$J.connect(g))}g_bas(){return this.g_aXR}g_aYo(){return this.g_azn}g_bat(){return this.g_aXE}g_KO(){return this.g_$P}g_EE(){return this.g_afO}g_bau(){return this.g_a$C}g_bav(){return this.g_a$E}g_baw(){this.g_a$D=!0}g_bax(){return this.g_aXH}g_bay(){return this.g_aXI}g_baz(){return this.g_a$B}g_baA(){return this.g_aXN}g_baB(){return this.g_aXO}g_baC(e,g){return g?this.g_axn.g_agm(e).then(e=>{const g=this.g_a$q.createBuffer(1,e.length,48e3),_=g.getChannelData(0);return _.set(e),g}):new Promise((g,_)=>{this.g_a$q.decodeAudioData(e,g,_)})}g_ayR(e){this.g_axn.g_ayR(e)}g_ayS(e){this.g_axn.g_ayS(e)}g_baD(g){let _=0;for(let n=0,e=this.g_a$w.length;n<e;++n){const a=this.g_a$w[n];this.g_a$w[_]=a,a.g_baE()===g?a.g_eK():++_}this.g_a$w.length=_}g_baF(){let e=0;for(let g=0,_=this.g_a$v.length;g<_;++g){const _=this.g_a$v[g];this.g_a$v[e]=_,_.g_baG()?_.g_eK():++e}this.g_a$v.length=e}*g_baq(g){if(g)for(const _ of this.g_a$w)e(_.g_baH(),g)&&(yield _);else this.g_a$x&&!this.g_a$x.g_baI()&&(yield this.g_a$x)}async g_bah(g,_,a,n,c){for(const e of this.g_a$v)if(e.g_baJ()===_)return await e.g_AE(),e;if(c)return null;n&&(this.g_a$C||this.g_a$D)&&this.g_baF();const e=g_baK.g_pJ(this,g,_,a,n);return this.g_a$v.push(e),await e.g_AE(),e}async g_baL(_,a,n,c,b){for(const e of this.g_a$w)if(e.g_baJ()===a&&(e.g_baM()||b))return e.g_baN(c),e;const e=await this.g_bah(_,a,n,b),t=e.g_agR(c);return this.g_a$w.push(t),t}g_baO(e){let g=this.g_a$A.get(e);if(!g){let _=null;const a=new Promise(e=>_=e);g={g_baP:0,promise:a,resolve:_},this.g_a$A.set(e,g)}g.g_baP++}g_baQ(e){const g=this.g_a$A.get(e);if(!g)throw new Error("expected pending tag");g.g_baP--,0===g.g_baP&&(g.resolve(),this.g_a$A.delete(e))}g_baR(e){e||(e=this.g_a$y);const g=this.g_a$A.get(e);return g?g.promise:Promise.resolve()}g_baS(){if(0<this.g_a$G.size)return void this.g_XA();for(const e of this.g_a$w)if(e.g_QH())return void this.g_XA()}g_IM(){for(const e of this.g_a$G)e.g_IM();const e=this.g_bag();for(const g of this.g_a$w)g.g_IM(e);const g=this.g_a$w.filter(e=>e.g_QH()).map(e=>e.g_baT());this.g_axr("state",{tickCount:this.g_a$z,audioInstances:g,analysers:[...this.g_a$G].map(e=>e.g_baU())}),0===g.length&&0===this.g_a$G.size&&this.g_Xo()}g_baV(e,g){this.g_axr("trigger",{type:e,tag:g})}async g_a$O(_){const a=_.originalUrl,n=_.url,c=_.type,b=_.isMusic,e=_.tag,t=_.isLooping,g=_.vol,o=_.pos,i=_.panning;let r=_.off;if(0<r&&!_.trueClock)if(this.g_a$q.getOutputTimestamp){const e=this.g_a$q.getOutputTimestamp();r=r-e.performanceTime/1e3+e.contextTime}else r=r-performance.now()/1e3+this.g_a$q.currentTime;this.g_a$y=e,this.g_baO(e);try{this.g_a$x=await this.g_baL(a,n,c,e,b),i?(this.g_a$x.g_baW(!0),this.g_a$x.g_baX(i.x,i.y,i.angle,i.innerAngle,i.outerAngle,i.outerGain),i.hasOwnProperty("uid")&&this.g_a$x.g_baY(i.uid)):this.g_a$x.g_baW(!1),this.g_a$x.g_IK(t,g,o,r)}catch(e){return void console.error("[Construct 3] Audio: error starting playback: ",e)}finally{this.g_baQ(e)}this.g_XA()}g_a$P(e){const g=e.tag;for(const _ of this.g_baq(g))_.g_IB()}g_a$Q(){for(const e of this.g_a$w)e.g_IB()}g_a$R(e){const g=e.tag,_=e.paused;for(const a of this.g_baq(g))_?a.g_baZ():a.g_IJ();this.g_baS()}g_a$S(e){const g=e.tag,_=e.vol;for(const a of this.g_baq(g))a.g_aYy(_)}async g_a$T(g){const _=g.tag,a=g.vol,n=g.duration,c=g.stopOnEnd;await this.g_baR(_);for(const e of this.g_baq(_))e.g_aYz(a,n,c);this.g_baS()}g_a$U(e){this.g_aXR=e.vol;for(const g of this.g_a$w)g.g_ba_()}g_a$V(e){const g=e.tag,_=e.isMuted;for(const a of this.g_baq(g))a.g_aYx(_)}g_a$W(e){this.g_azn=e.isSilent,this.g_axn.g_ayU(this.g_azn);for(const g of this.g_a$w)g.g_ba$()}g_a$X(e){const g=e.tag,_=e.isLooping;for(const a of this.g_baq(g))a.g_aYw(_)}g_a$Y(e){const g=e.tag,_=e.rate;for(const a of this.g_baq(g))a.g_IH(_)}g_a$Z(e){const g=e.tag,_=e.pos;for(const a of this.g_baq(g))a.g_aYE(_)}async g_a$_(g){const _=g.originalUrl,a=g.url,n=g.type,c=g.isMusic;try{await this.g_baL(_,a,n,"",c)}catch(e){console.error("[Construct 3] Audio: error preloading: ",e)}}async g_FQ(g){const _=g.url,a=g.type,n=g.isMusic,c=await this.g_bah("",_,a,n,!0);if(c){c.g_eK();const e=this.g_a$v.indexOf(c);-1!==e&&this.g_a$v.splice(e,1)}}g_a$$(){for(const e of this.g_a$v)e.g_eK();this.g_a$v.length=0}g_baa(e){const g=e.isSuspended;!g&&this.g_a$q.resume&&this.g_a$q.resume();for(const _ of this.g_a$w)_.g_agY(g);g&&this.g_a$q.suspend&&this.g_a$q.suspend()}g_bae(e){if(this.g_$P=e.timeScale,this.g_afO=e.gameTime,this.g_a$z=e.tickCount,0!==this.g_aXE)for(const e of this.g_a$w)e.g_bba();const g=e.listenerPos;g&&this.g_a$q.listener.setPosition(g[0],g[1],g[2]);for(const g of e.instPans){const e=g.uid;for(const _ of this.g_a$w)_.g_CD()===e&&_.g_bbb(g.x,g.y,g.angle)}}async g_bab(g){const _=g.type,a=g.tag,n=g.params;let c;if("filter"===_)c=new g_bbc(this,...n);else if("delay"===_)c=new g_bbd(this,...n);else if("convolution"===_){let e=null;try{e=await this.g_bah(g.bufferOriginalUrl,g.bufferUrl,g.bufferType,!1)}catch(e){return void console.log("[Construct 3] Audio: error loading convolution: ",e)}c=new g_bbe(this,e.g_bbf(),...n),c.g_bbg(g.bufferOriginalUrl,g.bufferUrl,g.bufferType)}else if("flanger"===_)c=new g_bbh(this,...n);else if("phaser"===_)c=new g_bbi(this,...n);else if("gain"===_)c=new g_bbj(this,...n);else if("tremolo"===_)c=new g_bbk(this,...n);else if("ringmod"===_)c=new g_bbl(this,...n);else if("distortion"===_)c=new g_bbm(this,...n);else if("compressor"===_)c=new g_bbn(this,...n);else if("analyser"===_)c=new g_bbo(this,...n);else throw new Error("invalid effect type");this.g_bam(a,c),this.g_bbp()}g_bac(_){const a=_.tag,n=_.index,c=_.param,b=_.value,e=_.ramp,t=_.time,g=this.g_a$F.get(a);!g||0>n||n>=g.length||(g[n].g_bbq(c,b,e,t),this.g_bbp())}g_bad(e){const g=e.tag.toLowerCase(),_=this.g_a$F.get(g);if(_&&_.length){for(const e of _)e.g_eK();this.g_a$F.delete(g),this.g_bao(g)}}g_bbr(e){this.g_a$G.add(e),this.g_baS()}g_bbs(e){this.g_a$G.delete(e)}g_bbp(){this.g_a$H||(this.g_a$H=!0,Promise.resolve().then(()=>this.g_bbt()))}g_bbt(){const e={};for(const[g,_]of this.g_a$F)e[g]=_.map(e=>e.g_baT());this.g_axr("fxstate",{fxstate:e}),this.g_a$H=!1}async g_baf(e){this.g_a$Q();for(const g of this.g_a$F.values())for(const e of g)e.g_eK();this.g_a$F.clear(),this.g_$P=e.timeScale,this.g_afO=e.gameTime;const g=e.listenerPos;this.g_a$q.listener.setPosition(g[0],g[1],g[2]),this.g_azn=e.isSilent,this.g_axn.g_ayU(this.g_azn),this.g_aXR=e.masterVolume;const _=[];for(const g of Object.values(e.effects))_.push(Promise.all(g.map(e=>this.g_bab(e))));await Promise.all(_),await Promise.all(e.playing.map(e=>this.g_bbu(e))),this.g_baS()}async g_bbu(_){const a=_.bufferOriginalUrl,n=_.bufferUrl,c=_.bufferType,b=_.isMusic,e=_.tag,t=_.isLooping,g=_.volume,o=_.playbackTime;let i=null;try{i=await this.g_baL(a,n,c,e,b)}catch(e){return void console.error("[Construct 3] Audio: error loading audio state: ",e)}i.g_bbv(_.pan),i.g_IK(t,g,o,0),_.isPlaying||i.g_baZ(),i.g_bbw(_)}g_a$K(e,g){this.g_a$J&&this.g_a$J.disconnect(),this.g_a$I=g.toLowerCase(),this.g_a$J=this.g_a$q.createMediaStreamSource(e),this.g_a$J.connect(this.g_bak(this.g_a$I))}g_a$M(){return this.g_a$L||(this.g_a$L=this.g_a$q.createMediaStreamDestination(),this.g_a$r.connect(this.g_a$L)),this.g_a$L.stream}};g_axW.g_ayP(g)}"use strict",self.g_baK=class{constructor(g,_,a,n,c){this.g_bbx=g,this.g_bby=_,this.g_A$=a,this.g_kx=n,this.g_bbz=c,this.g_bbA="",this.g_bbB="not-loaded",this.g_Be=null}g_eK(){this.g_bbB="not-loaded",this.g_bbx=null,this.g_Be=null}static g_pJ(g,_,a,n,c){const e="audio/webm; codecs=opus"===n&&!g.g_bav();return c&&e&&g.g_baw(),!c||g.g_bau()||e?new g_bbC(g,_,a,n,c,e):new g_bbD(g,_,a,n,c)}g_agR(e){return"html5"===this.g_bbA?new g_bbE(this.g_bbx,this,e):new g_bbF(this.g_bbx,this,e)}g_FK(){}g_AE(){return this.g_Be||(this.g_Be=this.g_FK()),this.g_Be}g_Bf(){}g_bbG(){}g_bbH(){return"failed"===this.g_bbB}g_bai(){return this.g_bbx.g_bai()}g_bbI(){return this.g_bbA}g_bbJ(){return this.g_bby}g_baJ(){return this.g_A$}g_bbK(){return this.g_kx}g_baG(){return this.g_bbz}g_ZQ(){}},"use strict",self.g_bbD=class extends g_baK{constructor(g,_,a,n,c){super(g,_,a,n,c),this.g_bbA="html5",this.g_bbL=new Audio,this.g_bbL.crossOrigin="anonymous",this.g_bbL.autoplay=!1,this.g_bbL.preload="auto",this.g_bbM=null,this.g_bbN=null,this.g_bbO=!1,this.g_bbL.addEventListener("canplaythrough",()=>this.g_bbO=!0),this.g_bbP=this.g_bai().createGain(),this.g_bbQ=null,this.g_bbL.addEventListener("canplay",()=>{this.g_bbM&&(this.g_bbB="loaded",this.g_bbM(),this.g_bbM=null,this.g_bbN=null),this.g_bbQ||!this.g_bbL||(this.g_bbQ=this.g_bai().createMediaElementSource(this.g_bbL),this.g_bbQ.connect(this.g_bbP))}),this.onended=null,this.g_bbL.addEventListener("ended",()=>{this.onended&&this.onended()}),this.g_bbL.addEventListener("error",e=>this.g_asw(e))}g_eK(){this.g_bbx.g_baD(this),this.g_bbP.disconnect(),this.g_bbP=null,this.g_bbQ.disconnect(),this.g_bbQ=null,this.g_bbL&&!this.g_bbL.paused&&this.g_bbL.pause(),this.onended=null,this.g_bbL=null,super.g_eK()}g_FK(){return this.g_bbB="loading",new Promise((e,g)=>{this.g_bbM=e,this.g_bbN=g,this.g_bbL.src=this.g_A$})}g_asw(e){console.error(`[Construct 3] Audio '${this.g_A$}' error: `,e),this.g_bbN&&(this.g_bbB="failed",this.g_bbN(e),this.g_bbM=null,this.g_bbN=null)}g_Bf(){const e=4<=this.g_bbL.readyState;return e&&(this.g_bbO=!0),e||this.g_bbO}g_bbG(){return this.g_Bf()}g_bbR(){return this.g_bbL}g_bbS(){return this.g_bbP}g_ZQ(){return this.g_bbL.duration}},"use strict",self.g_bbC=class extends g_baK{constructor(g,_,a,n,c,e){super(g,_,a,n,c),this.g_bbA="webaudio",this.g_bbT=null,this.g_bbU=null,this.g_bbV=!!e}g_eK(){this.g_bbx.g_baD(this),this.g_bbT=null,this.g_bbU=null,super.g_eK()}async g_bbW(){if(this.g_bbT)return this.g_bbT;const e=this.g_bbx.g_axB();if("cordova"===e.g_Ax()&&e.g_gn(this.g_A$))this.g_bbT=await e.g_At(this.g_A$);else{const e=await fetch(this.g_A$);if(!e.ok)throw new Error(`error fetching audio data: ${e.status} ${e.statusText}`);this.g_bbT=await e.arrayBuffer()}}async g_bbX(){return this.g_bbU?this.g_bbU:void(this.g_bbU=await this.g_bbx.g_baC(this.g_bbT,this.g_bbV),this.g_bbT=null)}async g_FK(){try{this.g_bbB="loading",await this.g_bbW(),await this.g_bbX(),this.g_bbB="loaded"}catch(e){this.g_bbB="failed",console.error(`[Construct 3] Failed to load audio '${this.g_A$}': `,e)}}g_Bf(){return!!(this.g_bbT||this.g_bbU)}g_bbG(){return!!this.g_bbU}g_bbf(){return this.g_bbU}g_ZQ(){return this.g_bbU?this.g_bbU.duration:0}},"use strict";{function _(g){return g*e}const e=180/Math.PI;self.g_bbY=class{constructor(e,g,_){this.g_bbx=e,this.g_vp=g,this.g_bbZ=_,this.g_bb_=this.g_bai().createGain(),this.g_bb_.connect(this.g_baj()),this.g_bb$=null,this.g_bca=!1,this.g_NW=!0,this.g_bcb=!1,this.g_bcc=!1,this.g_TP=!1,this.g_bcd=1,this.g_bce=!1,this.g_Hp=1;const a=this.g_bbx.g_bat();this.g_bcf=1===a&&!this.g_baG()||2===a,this.g_bcg=-1,this.g_bch=-1,this.g_bci=!1}g_eK(){this.g_bbx=null,this.g_vp=null,this.g_bb$&&(this.g_bb$.disconnect(),this.g_bb$=null),this.g_bb_.disconnect(),this.g_bb_=null}g_bai(){return this.g_bbx.g_bai()}g_baj(){return this.g_bbx.g_bak(this.g_bbZ)}g_bas(){return this.g_bbx.g_bas()}g_bcj(){return this.g_bcf?this.g_bbx.g_EE():performance.now()/1e3}g_bbJ(){return this.g_vp.g_bbJ()}g_baJ(){return this.g_vp.g_baJ()}g_bbK(){return this.g_vp.g_bbK()}g_baE(){return this.g_vp}g_baG(){return this.g_vp.g_baG()}g_baN(e){this.g_bbZ=e}g_baH(){return this.g_bbZ}g_baI(){}g_baM(){}g_Il(){return!this.g_NW&&!this.g_bcb&&!this.g_baI()}g_QH(){return!this.g_NW&&!this.g_baI()}g_bck(){}g_ZQ(e){let g=this.g_vp.g_ZQ();return e&&(g/=this.g_Hp||.001),g}g_IK(){}g_IB(){}g_baZ(){}g_bcl(){return this.g_bcb}g_IJ(){}g_aYy(e){this.g_bcd=e,this.g_bb_.gain.cancelScheduledValues(0),this.g_bch=-1,this.g_bb_.gain.value=this.g_bcm()}g_aYz(g,_,a){if(!this.g_bcn()){const n=this.g_bb_.gain;n.cancelScheduledValues(0);const c=this.g_bbx.g_bag(),e=c+_;n.setValueAtTime(this.g_bcd,c),n.linearRampToValueAtTime(g,e),this.g_bcd=g,this.g_bch=e,this.g_bci=a}}g_ba_(){this.g_aYy(this.g_bcd)}g_IM(e){-1!==this.g_bch&&e>=this.g_bch&&(this.g_bch=-1,this.g_bci&&this.g_IB(),this.g_bbx.g_baV("fade-ended",this.g_bbZ))}g_bcm(){const e=this.g_bcd*this.g_bas();return isFinite(e)?e:0}g_aYx(e){e=!!e,this.g_bce===e||(this.g_bce=e,this.g_ba$())}g_bcn(){return this.g_bce}g_aYo(){return this.g_bbx.g_aYo()}g_ba$(){}g_aYw(){}g_Sd(){return this.g_TP}g_IH(e){this.g_Hp===e||(this.g_Hp=e,this.g_bba())}g_bba(){}g_bco(){return this.g_Hp}g_aYE(){}g_agY(){}g_baW(e){e=!!e,this.g_bca===e||(this.g_bca=e,this.g_bca?(!this.g_bb$&&(this.g_bb$=this.g_bai().createPanner(),this.g_bb$.panningModel=this.g_bbx.g_bax(),this.g_bb$.distanceModel=this.g_bbx.g_bay(),this.g_bb$.refDistance=this.g_bbx.g_baz(),this.g_bb$.maxDistance=this.g_bbx.g_baA(),this.g_bb$.rolloffFactor=this.g_bbx.g_baB()),this.g_bb_.disconnect(),this.g_bb_.connect(this.g_bb$),this.g_bb$.connect(this.g_baj())):(this.g_bb$.disconnect(),this.g_bb_.disconnect(),this.g_bb_.connect(this.g_baj())))}g_baX(a,n,c,b,e,t){this.g_bca&&(this.g_bbb(a,n,c),this.g_bb$.coneInnerAngle=_(b),this.g_bb$.coneOuterAngle=_(e),this.g_bb$.coneOuterGain=t)}g_bbb(e,g,_){this.g_bca&&(this.g_bb$.setPosition(e,g,0),this.g_bb$.setOrientation(Math.cos(_),Math.sin(_),0))}g_baY(e){this.g_bcg=e}g_CD(){return this.g_bcg}g_bcp(){}g_bar(e){const g=this.g_bb$||this.g_bb_;g.disconnect(),g.connect(e)}g_baT(){return{tag:this.g_bbZ,duration:this.g_ZQ(),volume:this.g_bcd,isPlaying:this.g_Il(),playbackTime:this.g_bck(),playbackRate:this.g_bco(),uid:this.g_bcg,bufferOriginalUrl:this.g_bbJ(),bufferUrl:"",bufferType:this.g_bbK(),isMusic:this.g_baG(),isLooping:this.g_Sd(),isMuted:this.g_bcn(),resumePosition:this.g_bcp(),pan:this.g_bcq()}}g_bbw(e){this.g_IH(e.playbackRate),this.g_aYx(e.isMuted)}g_bcq(){if(!this.g_bb$)return null;const e=this.g_bb$;return{pos:[e.positionX.value,e.positionY.value,e.positionZ.value],orient:[e.orientationX.value,e.orientationY.value,e.orientationZ.value],cia:e.coneInnerAngle,coa:e.coneOuterAngle,cog:e.coneOuterGain,uid:this.g_bcg}}g_bbv(e){if(!e)return void this.g_baW(!1);this.g_baW(!0);const g=this.g_bb$;g.setPosition(...g.pos),g.setOrientation(...g.orient),g.coneInnerAngle=g.cia,g.coneOuterAngle=g.coa,g.coneOuterGain=g.cog,this.g_bcg=g.uid}}}"use strict",self.g_bbE=class extends g_bbY{constructor(e,g,_){super(e,g,_),this.g_vp.g_bbS().connect(this.g_bb_),this.g_vp.onended=()=>this.g_bcr()}g_eK(){this.g_IB(),this.g_vp.g_bbS().disconnect(),super.g_eK()}g_bbR(){return this.g_vp.g_bbR()}g_bcr(){this.g_NW=!0,this.g_bcg=-1,this.g_bbx.g_baV("ended",this.g_bbZ)}g_baI(){return this.g_bbR().ended}g_baM(){return!!this.g_NW||this.g_baI()}g_bck(e){let g=this.g_bbR().currentTime;return e&&(g*=this.g_Hp),this.g_TP||(g=Math.min(g,this.g_ZQ())),g}g_IK(e,g,_){const a=this.g_bbR();if(1!==a.playbackRate&&(a.playbackRate=1),a.loop!==e&&(a.loop=e),this.g_aYy(g),a.muted&&(a.muted=!1),a.currentTime!==_)try{a.currentTime=_}catch(e){console.warn(`[Construct 3] Exception seeking audio '${this.g_vp.g_baJ()}' to position '${_}': `,e)}this.g_bbx.g_ayR(a),this.g_NW=!1,this.g_bcb=!1,this.g_TP=e,this.g_Hp=1}g_IB(){const e=this.g_bbR();e.paused||e.pause(),this.g_bbx.g_ayS(e),this.g_NW=!0,this.g_bcb=!1,this.g_bcg=-1}g_baZ(){if(!(this.g_bcb||this.g_NW||this.g_baI())){const e=this.g_bbR();e.paused||e.pause(),this.g_bbx.g_ayS(e),this.g_bcb=!0}}g_IJ(){!this.g_bcb||this.g_NW||this.g_baI()||(this.g_bbx.g_ayR(this.g_bbR()),this.g_bcb=!1)}g_ba$(){this.g_bbR().muted=this.g_bce||this.g_aYo()}g_aYw(e){e=!!e,this.g_TP===e||(this.g_TP=e,this.g_bbR().loop=e)}g_bba(){let e=this.g_Hp;this.g_bcf&&(e*=this.g_bbx.g_KO());try{this.g_bbR().playbackRate=e}catch(g){console.warn(`[Construct 3] Unable to set playback rate '${e}':`,g)}}g_aYE(e){if(!(this.g_NW||this.g_baI()))try{this.g_bbR().currentTime=e}catch(g){console.warn(`[Construct 3] Error seeking audio to '${e}': `,g)}}g_bcp(){return this.g_bck()}g_agY(e){e?this.g_Il()?(this.g_bbR().pause(),this.g_bcc=!0):this.g_bcc=!1:this.g_bcc&&(this.g_bbx.g_ayR(this.g_bbR()),this.g_bcc=!1)}},"use strict",self.g_bbF=class extends g_bbY{constructor(e,g,_){super(e,g,_),this.g_bcs=null,this.g_bct=e=>this.g_bcr(e),this.g_bcu=!0,this.g_bcv=null,this.g_afJ=0,this.g_bcw=0,this.g_bcx=1}g_eK(){this.g_IB(),this.g_bcy(),this.g_bct=null,super.g_eK()}g_bcy(){this.g_bcs&&this.g_bcs.disconnect(),this.g_bcs=null,this.g_bcv=null}g_bcr(e){this.g_bcb||this.g_bcc||e.target!==this.g_bcv||(this.g_bcu=!0,this.g_NW=!0,this.g_bcg=-1,this.g_bcy(),this.g_bbx.g_baV("ended",this.g_bbZ))}g_baI(){return!(!this.g_NW&&this.g_bcs&&this.g_bcs.loop)&&!this.g_bcb&&this.g_bcu}g_baM(){return!this.g_bcs||this.g_NW||this.g_baI()}g_bck(e){let g=0;return g=this.g_bcb?this.g_bcw:this.g_bcj()-this.g_afJ,e&&(g*=this.g_Hp),this.g_TP||(g=Math.min(g,this.g_ZQ())),g}g_IK(e,g,_,a){this.g_bcx=1,this.g_aYy(g),this.g_bcy(),this.g_bcs=this.g_bai().createBufferSource(),this.g_bcs.buffer=this.g_vp.g_bbf(),this.g_bcs.connect(this.g_bb_),this.g_bcv=this.g_bcs,this.g_bcs.onended=this.g_bct,this.g_bcs.loop=e,this.g_bcs.start(a,_),this.g_bcu=!1,this.g_NW=!1,this.g_bcb=!1,this.g_TP=e,this.g_Hp=1,this.g_afJ=this.g_bcj()-_}g_IB(){this.g_bcs&&this.g_bcs.stop(0),this.g_NW=!0,this.g_bcb=!1,this.g_bcg=-1}g_baZ(){this.g_bcb||this.g_NW||this.g_baI()||(this.g_bcw=this.g_bck(!0),this.g_TP&&(this.g_bcw%=this.g_ZQ()),this.g_bcb=!0,this.g_bcs.stop(0))}g_IJ(){!this.g_bcb||this.g_NW||this.g_baI()||(this.g_bcy(),this.g_bcs=this.g_bai().createBufferSource(),this.g_bcs.buffer=this.g_vp.g_bbf(),this.g_bcs.connect(this.g_bb_),this.g_bcv=this.g_bcs,this.g_bcs.onended=this.g_bct,this.g_bcs.loop=this.g_TP,this.g_ba_(),this.g_bba(),this.g_afJ=this.g_bcj()-this.g_bcw/(this.g_Hp||.001),this.g_bcs.start(0,this.g_bcw),this.g_bcb=!1)}g_bcm(){return super.g_bcm()*this.g_bcx}g_ba$(){this.g_bcx=this.g_bce||this.g_aYo()?0:1,this.g_ba_()}g_aYw(e){e=!!e,this.g_TP===e||(this.g_TP=e,this.g_bcs&&(this.g_bcs.loop=e))}g_bba(){let e=this.g_Hp;this.g_bcf&&(e*=this.g_bbx.g_KO()),this.g_bcs&&(this.g_bcs.playbackRate.value=e)}g_aYE(e){this.g_NW||this.g_baI()||(this.g_bcb?this.g_bcw=e:(this.g_baZ(),this.g_bcw=e,this.g_IJ()))}g_bcp(){return this.g_bcw}g_agY(e){e?this.g_Il()?(this.g_bcc=!0,this.g_bcw=this.g_bck(!0),this.g_TP&&(this.g_bcw%=this.g_ZQ()),this.g_bcs.stop(0)):this.g_bcc=!1:this.g_bcc&&(this.g_bcy(),this.g_bcs=this.g_bai().createBufferSource(),this.g_bcs.buffer=this.g_vp.g_bbf(),this.g_bcs.connect(this.g_bb_),this.g_bcv=this.g_bcs,this.g_bcs.onended=this.g_bct,this.g_bcs.loop=this.g_TP,this.g_ba_(),this.g_bba(),this.g_afJ=this.g_bcj()-this.g_bcw/(this.g_Hp||.001),this.g_bcs.start(0,this.g_bcw),this.g_bcc=!1)}g_bbw(e){super.g_bbw(e),this.g_bcw=e.resumePosition}},"use strict";{function g(e){return Math.pow(10,e/20)}function _(e){return Math.max(Math.min(g(e),1),0)}function n(e){return 20*(Math.log(e)/2.302585092994046)}function c(e){return n(Math.max(Math.min(e,1),0))}function t(e,g){return 1-Math.exp(-g*e)}class e{constructor(e){this.g_bbx=e,this.g_a$q=e.g_bai(),this.g_BO=-1,this.g_bbZ="",this.g_kx="",this.g_bcz=null}g_eK(){this.g_a$q=null}g_abC(e){this.g_BO=e}g_Df(){return this.g_BO}g_ban(e){this.g_bbZ=e}g_baH(){return this.g_bbZ}g_bcA(){return this.g_a$q.createGain()}g_bal(){}g_bap(){}g_bcB(g,_,a,n){if(g.cancelScheduledValues(0),0===n)return void(g.value=_);const c=this.g_a$q.currentTime;n+=c,0===a?g.setValueAtTime(_,n):1===a?(g.setValueAtTime(g.value,c),g.linearRampToValueAtTime(_,n)):2===a?(g.setValueAtTime(g.value,c),g.exponentialRampToValueAtTime(_,n)):void 0}g_baT(){return{type:this.g_kx,tag:this.g_bbZ,params:this.g_bcz}}}self.g_bbc=class extends e{constructor(_,a,n,c,b,e,t){super(_),this.g_kx="filter",this.g_bcz=[a,n,c,b,e,t],this.g_bcC=this.g_bcA(),this.g_bcD=this.g_bcA(),this.g_bcD.gain.value=t,this.g_bcE=this.g_bcA(),this.g_bcE.gain.value=1-t,this.g_bcF=this.g_a$q.createBiquadFilter(),this.g_bcF.type=a,this.g_bcF.frequency.value=n,this.g_bcF.detune.value=c,this.g_bcF.Q.value=b,this.g_bcF.gain.vlaue=e,this.g_bcC.connect(this.g_bcF),this.g_bcC.connect(this.g_bcE),this.g_bcF.connect(this.g_bcD)}g_eK(){this.g_bcC.disconnect(),this.g_bcF.disconnect(),this.g_bcD.disconnect(),this.g_bcE.disconnect(),super.g_eK()}g_bap(e){this.g_bcD.disconnect(),this.g_bcD.connect(e),this.g_bcE.disconnect(),this.g_bcE.connect(e)}g_bal(){return this.g_bcC}g_bbq(e,g,_,a){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bcz[5]=g,this.g_bcB(this.g_bcD.gain,g,_,a),this.g_bcB(this.g_bcE.gain,1-g,_,a)):1===e?(this.g_bcz[1]=g,this.g_bcB(this.g_bcF.frequency,g,_,a)):2===e?(this.g_bcz[2]=g,this.g_bcB(this.g_bcF.detune,g,_,a)):3===e?(this.g_bcz[3]=g,this.g_bcB(this.g_bcF.Q,g,_,a)):4===e?(this.g_bcz[4]=g,this.g_bcB(this.g_bcF.gain,g,_,a)):void 0}},self.g_bbd=class extends e{constructor(e,g,_,a){super(e),this.g_kx="delay",this.g_bcz=[g,_,a],this.g_bcC=this.g_bcA(),this.g_bcD=this.g_bcA(),this.g_bcD.gain.value=a,this.g_bcE=this.g_bcA(),this.g_bcE.gain.value=1-a,this.g_bcG=this.g_bcA(),this.g_bcH=this.g_a$q.createDelay(g),this.g_bcH.delayTime.value=g,this.g_bcI=this.g_bcA(),this.g_bcI.gain.value=_,this.g_bcC.connect(this.g_bcG),this.g_bcC.connect(this.g_bcE),this.g_bcG.connect(this.g_bcD),this.g_bcG.connect(this.g_bcH),this.g_bcH.connect(this.g_bcI),this.g_bcI.connect(this.g_bcG)}g_eK(){this.g_bcC.disconnect(),this.g_bcD.disconnect(),this.g_bcE.disconnect(),this.g_bcG.disconnect(),this.g_bcH.disconnect(),this.g_bcI.disconnect(),super.g_eK()}g_bap(e){this.g_bcD.disconnect(),this.g_bcD.connect(e),this.g_bcE.disconnect(),this.g_bcE.connect(e)}g_bal(){return this.g_bcC}g_bbq(g,a,n,b){0===g?(a=Math.max(Math.min(a/100,1),0),this.g_bcz[2]=a,this.g_bcB(this.g_bcD.gain,a,n,b),this.g_bcB(this.g_bcE.gain,1-a,n,b)):4===g?(this.g_bcz[1]=_(a),this.g_bcB(this.g_bcI.gain,_(a),n,b)):5===g?(this.g_bcz[0]=a,this.g_bcB(this.g_bcH.delayTime,a,n,b)):void 0}},self.g_bbe=class extends e{constructor(e,g,_,a){super(e),this.g_kx="convolution",this.g_bcz=[_,a],this.g_bcJ="",this.g_bcK="",this.g_bcL="",this.g_bcC=this.g_bcA(),this.g_bcD=this.g_bcA(),this.g_bcD.gain.value=a,this.g_bcE=this.g_bcA(),this.g_bcE.gain.value=1-a,this.g_bcM=this.g_a$q.createConvolver(),this.g_bcM.normalize=_,this.g_bcM.buffer=g,this.g_bcC.connect(this.g_bcM),this.g_bcC.connect(this.g_bcE),this.g_bcM.connect(this.g_bcD)}g_eK(){this.g_bcC.disconnect(),this.g_bcM.disconnect(),this.g_bcD.disconnect(),this.g_bcE.disconnect(),super.g_eK()}g_bap(e){this.g_bcD.disconnect(),this.g_bcD.connect(e),this.g_bcE.disconnect(),this.g_bcE.connect(e)}g_bal(){return this.g_bcC}g_bbq(e,g,_,a){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bcz[1]=g,this.g_bcB(this.g_bcD.gain,g,_,a),this.g_bcB(this.g_bcE.gain,1-g,_,a)):void 0}g_bbg(e,g,_){this.g_bcJ=e,this.g_bcK=g,this.g_bcL=_}g_baT(){const e=super.g_baT();return e.bufferOriginalUrl=this.g_bcJ,e.bufferUrl="",e.bufferType=this.g_bcL,e}},self.g_bbh=class extends e{constructor(g,_,a,n,c,e){super(g),this.g_kx="flanger",this.g_bcz=[_,a,n,c,e],this.g_bcC=this.g_bcA(),this.g_bcE=this.g_bcA(),this.g_bcE.gain.value=1-e/2,this.g_bcD=this.g_bcA(),this.g_bcD.gain.value=e/2,this.g_bcN=this.g_bcA(),this.g_bcN.gain.value=c,this.g_bcH=this.g_a$q.createDelay(_+a),this.g_bcH.delayTime.value=_,this.g_bcO=this.g_a$q.createOscillator(),this.g_bcO.frequency.value=n,this.g_bcP=this.g_bcA(),this.g_bcP.gain.value=a,this.g_bcC.connect(this.g_bcH),this.g_bcC.connect(this.g_bcE),this.g_bcH.connect(this.g_bcD),this.g_bcH.connect(this.g_bcN),this.g_bcN.connect(this.g_bcH),this.g_bcO.connect(this.g_bcP),this.g_bcP.connect(this.g_bcH.delayTime),this.g_bcO.start(0)}g_eK(){this.g_bcO.stop(0),this.g_bcC.disconnect(),this.g_bcH.disconnect(),this.g_bcO.disconnect(),this.g_bcP.disconnect(),this.g_bcE.disconnect(),this.g_bcD.disconnect(),this.g_bcN.disconnect(),super.g_eK()}g_bap(e){this.g_bcD.disconnect(),this.g_bcD.connect(e),this.g_bcE.disconnect(),this.g_bcE.connect(e)}g_bal(){return this.g_bcC}g_bbq(e,g,_,a){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bcz[4]=g,this.g_bcB(this.g_bcD.gain,g/2,_,a),this.g_bcB(this.g_bcE.gain,1-g/2,_,a)):6===e?(this.g_bcz[1]=g/1e3,this.g_bcB(this.g_bcP.gain,g/1e3,_,a)):7===e?(this.g_bcz[2]=g,this.g_bcB(this.g_bcO.frequency,g,_,a)):8===e?(this.g_bcz[3]=g/100,this.g_bcB(this.g_bcN.gain,g/100,_,a)):void 0}},self.g_bbi=class extends e{constructor(_,a,n,c,b,e,t){super(_),this.g_kx="phaser",this.g_bcz=[a,n,c,b,e,t],this.g_bcC=this.g_bcA(),this.g_bcE=this.g_bcA(),this.g_bcE.gain.value=1-t/2,this.g_bcD=this.g_bcA(),this.g_bcD.gain.value=t/2,this.g_bcF=this.g_a$q.createBiquadFilter(),this.g_bcF.type="allpass",this.g_bcF.frequency.value=a,this.g_bcF.detune.value=n,this.g_bcF.Q.value=c,this.g_bcO=this.g_a$q.createOscillator(),this.g_bcO.frequency.value=e,this.g_bcP=this.g_bcA(),this.g_bcP.gain.value=b,this.g_bcC.connect(this.g_bcF),this.g_bcC.connect(this.g_bcE),this.g_bcF.connect(this.g_bcD),this.g_bcO.connect(this.g_bcP),this.g_bcP.connect(this.g_bcF.frequency),this.g_bcO.start(0)}g_eK(){this.g_bcO.stop(0),this.g_bcC.disconnect(),this.g_bcF.disconnect(),this.g_bcO.disconnect(),this.g_bcP.disconnect(),this.g_bcE.disconnect(),this.g_bcD.disconnect(),super.g_eK()}g_bap(e){this.g_bcD.disconnect(),this.g_bcD.connect(e),this.g_bcE.disconnect(),this.g_bcE.connect(e)}g_bal(){return this.g_bcC}g_bbq(e,g,_,a){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bcz[5]=g,this.g_bcB(this.g_bcD.gain,g/2,_,a),this.g_bcB(this.g_bcE.gain,1-g/2,_,a)):1===e?(this.g_bcz[0]=g,this.g_bcB(this.g_bcF.frequency,g,_,a)):2===e?(this.g_bcz[1]=g,this.g_bcB(this.g_bcF.detune,g,_,a)):3===e?(this.g_bcz[2]=g,this.g_bcB(this.g_bcF.Q,g,_,a)):6===e?(this.g_bcz[3]=g,this.g_bcB(this.g_bcP.gain,g,_,a)):7===e?(this.g_bcz[4]=g,this.g_bcB(this.g_bcO.frequency,g,_,a)):void 0}},self.g_bbj=class extends e{constructor(e,g){super(e),this.g_kx="gain",this.g_bcz=[g],this.g_bcQ=this.g_bcA(),this.g_bcQ.gain.value=g}g_eK(){this.g_bcQ.disconnect(),super.g_eK()}g_bap(e){this.g_bcQ.disconnect(),this.g_bcQ.connect(e)}g_bal(){return this.g_bcQ}g_bbq(g,a,n,c){4===g?(this.g_bcz[0]=_(a),this.g_bcB(this.g_bcQ.gain,_(a),n,c)):void 0}},self.g_bbk=class extends e{constructor(e,g,_){super(e),this.g_kx="tremolo",this.g_bcz=[g,_],this.g_bcQ=this.g_bcA(),this.g_bcQ.gain.value=1-_/2,this.g_bcO=this.g_a$q.createOscillator(),this.g_bcO.frequency.value=g,this.g_bcP=this.g_bcA(),this.g_bcP.gain.value=_/2,this.g_bcO.connect(this.g_bcP),this.g_bcP.connect(this.g_bcQ.gain),this.g_bcO.start(0)}g_eK(){this.g_bcO.stop(0),this.g_bcO.disconnect(),this.g_bcP.disconnect(),this.g_bcQ.disconnect(),super.g_eK()}g_bap(e){this.g_bcQ.disconnect(),this.g_bcQ.connect(e)}g_bal(){return this.g_bcQ}g_bbq(e,g,_,a){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bcz[1]=g,this.g_bcB(this.g_bcQ.gain.value,1-g/2,_,a),this.g_bcB(this.g_bcP.gain.value,g/2,_,a)):7===e?(this.g_bcz[0]=g,this.g_bcB(this.g_bcO.frequency,g,_,a)):void 0}},self.g_bbl=class extends e{constructor(e,g,_){super(e),this.g_kx="ringmod",this.g_bcz=[g,_],this.g_bcC=this.g_bcA(),this.g_bcD=this.g_bcA(),this.g_bcD.gain.value=_,this.g_bcE=this.g_bcA(),this.g_bcE.gain.value=1-_,this.g_bcR=this.g_bcA(),this.g_bcR.gain.value=0,this.g_bcO=this.g_a$q.createOscillator(),this.g_bcO.frequency.value=g,this.g_bcO.connect(this.g_bcR.gain),this.g_bcO.start(0),this.g_bcC.connect(this.g_bcR),this.g_bcC.connect(this.g_bcE),this.g_bcR.connect(this.g_bcD)}g_eK(){this.g_bcO.stop(0),this.g_bcO.disconnect(),this.g_bcR.disconnect(),this.g_bcC.disconnect(),this.g_bcD.disconnect(),this.g_bcE.disconnect(),super.g_eK()}g_bap(e){this.g_bcD.disconnect(),this.g_bcD.connect(e),this.g_bcE.disconnect(),this.g_bcE.connect(e)}g_bal(){return this.g_bcC}g_bbq(e,g,_,a){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bcz[1]=g,this.g_bcB(this.g_bcD.gain,g,_,a),this.g_bcB(this.g_bcE.gain,1-g,_,a)):7===e?(this.g_bcz[0]=g,this.g_bcB(this.g_bcO.frequency,g,_,a)):void 0}},self.g_bbm=class extends e{constructor(g,_,a,n,c,e){super(g),this.g_kx="distortion",this.g_bcz=[_,a,n,c,e],this.g_bcC=this.g_bcA(),this.g_bcS=this.g_bcA(),this.g_bcT=this.g_bcA(),this.g_bcU(n,c),this.g_bcD=this.g_bcA(),this.g_bcD.gain.value=e,this.g_bcE=this.g_bcA(),this.g_bcE.gain.value=1-e,this.g_bcV=this.g_a$q.createWaveShaper(),this.g_bcW=new Float32Array(65536),this.g_bcX(_,a),this.g_bcV.curve=this.g_bcW,this.g_bcC.connect(this.g_bcS),this.g_bcC.connect(this.g_bcE),this.g_bcS.connect(this.g_bcV),this.g_bcV.connect(this.g_bcT),this.g_bcT.connect(this.g_bcD)}g_eK(){this.g_bcC.disconnect(),this.g_bcS.disconnect(),this.g_bcV.disconnect(),this.g_bcT.disconnect(),this.g_bcD.disconnect(),this.g_bcE.disconnect(),super.g_eK()}g_bcU(e,g){.01>e&&(e=.01),this.g_bcS.gain.value=e,this.g_bcT.gain.value=Math.pow(1/e,.6)*g}g_bcX(e,g){for(let _,a=0;32768>a;++a)_=a/32768,_=this.g_bcY(_,e,g),this.g_bcW[32768+a]=_,this.g_bcW[32768-a-1]=-_}g_bcY(e,_,a){const n=1.05*a*_-_,c=0>e?-1:1,b=0>e?-e:e;let g=b<_?b:_+n*t(b-_,1/n);return g*=c,g}g_bap(e){this.g_bcD.disconnect(),this.g_bcD.connect(e),this.g_bcE.disconnect(),this.g_bcE.connect(e)}g_bal(){return this.g_bcC}g_bbq(e,g,_,a){0===e?(g=Math.max(Math.min(g/100,1),0),this.g_bcz[4]=g,this.g_bcB(this.g_bcD.gain,g,_,a),this.g_bcB(this.g_bcE.gain,1-g,_,a)):void 0}},self.g_bbn=class extends e{constructor(g,_,a,n,c,e){super(g),this.g_kx="compressor",this.g_bcz=[_,a,n,c,e],this.g_bcQ=this.g_a$q.createDynamicsCompressor(),this.g_bcQ.threshold.value=_,this.g_bcQ.knee.value=a,this.g_bcQ.ratio.value=n,this.g_bcQ.attack.value=c,this.g_bcQ.release.value=e}g_eK(){this.g_bcQ.disconnect(),super.g_eK()}g_bap(e){this.g_bcQ.disconnect(),this.g_bcQ.connect(e)}g_bal(){return this.g_bcQ}g_bbq(){}},self.g_bbo=class extends e{constructor(e,g,_){super(e),this.g_kx="analyser",this.g_bcz=[g,_],this.g_bcQ=this.g_a$q.createAnalyser(),this.g_bcQ.fftSize=g,this.g_bcQ.smoothingTimeConstant=_,this.g_bcZ=new Float32Array(this.g_bcQ.frequencyBinCount),this.g_bc_=new Uint8Array(g),this.g_bc$=0,this.g_bda=0,this.g_bbx.g_bbr(this)}g_eK(){this.g_bbx.g_bbs(this),this.g_bcQ.disconnect(),super.g_eK()}g_IM(){this.g_bcQ.getFloatFrequencyData(this.g_bcZ),this.g_bcQ.getByteTimeDomainData(this.g_bc_);const e=this.g_bcQ.fftSize;this.g_bc$=0;let g=0;for(let _,a=0;a<e;++a)_=(this.g_bc_[a]-128)/128,0>_&&(_=-_),this.g_bc$<_&&(this.g_bc$=_),g+=_*_;this.g_bc$=c(this.g_bc$),this.g_bda=c(Math.sqrt(g/e))}g_bap(e){this.g_bcQ.disconnect(),this.g_bcQ.connect(e)}g_bal(){return this.g_bcQ}g_bbq(){}g_baU(){return{tag:this.g_baH(),index:this.g_Df(),peak:this.g_bc$,rms:this.g_bda,binCount:this.g_bcQ.frequencyBinCount,freqBins:this.g_bcZ}}}}